<header>
  <nav class="bg-main border-gray-200 px-4 lg:px-6 py-2.5">
    <section
      class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
      <a href="#" class="flex items-center">
        <img
          src="https://flowbite.com/docs/images/logo.svg"
          class="mr-3 h-6 sm:h-9"
          alt="Flowbite Logo" />
        <span
          class="self-center text-xl font-semibold whitespace-nowrap text-headline"
          >Flowbite</span
        >
      </a>
      <article class="flex items-center gap-x-4">
        <section class="flex items-center gap-x-4">
          <section
            class="sm:flex sm:flex-col sm:items-end sm:justify-center hidden sm:visible">
            <p class="text-sm font-normal text-paragraph">
              Kevin Orlando Jimenez Saraguro
            </p>
            <article class="flex items-center gap-x-1">
              <app-money-bag iconClass="size-3.5 text-paragraph" />
              <p class="text-xs font-light text-paragraph">
                Saldo: {{ 12 | currency }}
              </p>
            </article>
          </section>
          <app-image name="avatar.svg" customClass="size-10" />
        </section>
        <section
          (click)="isOpen = !isOpen"
          class="relative"
          #editOverlay="cdkOverlayOrigin"
          cdkOverlayOrigin>
          <app-image name="shopping-bag.svg" />
          <div
            class="absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-3 -end-3">
            {{ cartStore.productsCount() }}
          </div>
        </section>
      </article>
    </section>
  </nav>
</header>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="editOverlay"
  [cdkConnectedOverlayOpen]="isOpen"
  (overlayOutsideClick)="isOpen = !isOpen">
  <div
    class="z-50 w-72 text-base list-none bg-white rounded divide-y divide-gray-100 shadow">
    <header
      class="py-3 px-4 relative flex items-center justify-center border-b-2">
      <span class="text-sm text-center text-gray-900"> Cart </span>
      <button>X</button>
    </header>
    <section class="px-3 pt-3 pb-1 h-96 overflow-y-auto">
      <ul>
        @for (product of cartStore.products(); track $index) {
          <li>
            {{ product.title }}
          </li>
        }
      </ul>
    </section>
  </div>
</ng-template>
